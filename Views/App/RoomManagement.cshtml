
@using NonFactors.Mvc.Grid;
@model IQueryable<HotelManagement.Data.Entities.Room>
@{
    ViewBag.Title = "Prelucrare Camere";

}

<script src="~/node_modules/jquery/dist/jquery.min.js"></script>
<script src="~/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<link href="~/css/style.css" rel="stylesheet" />
<div class="customSpace">
    <a asp-controller="Rooms" asp-action="CreateRoom"><button type="button" class="btn btn-primary">Adaugare camera</button></a>
</div>
<p></p>
<div class="customSpace">
@(Html
    .Grid(Model)
    .Build(columns =>
    {
        columns.Add(model => $"<button data-id=\"{model.Id}\">Edit</button>").Encoded(false).RenderedAs(model => @Html.ActionLink("Editare", "EditRoom", "Rooms", new { id = model.Id }, new { })).Encoded(false);
        columns.Add(model => $"<button data-id=\"{model.Id}\">Delete</button>").RenderedAs(model => @Html.ActionLink("Stergere", "Delete", "Rooms", new { id = model.Id }, new { })).Encoded(false);
        columns.Add(model => model.RoomNumber).Titled("Nr camera");
        columns.Add(model => model.PersonCapacity).Titled("Nr Persoane");
        columns.Add(model => model.IsUsable).Titled("Folosibila");
        columns.Add(model => model.IsOccupied).Titled("Ocupata");
        columns.Add(model => model.Description).Titled("Descriere");
    })
    .Empty("Nu au fost gasite date")
    .Filterable()
    .Sortable()
    .Pageable()
    //.Pageable(pager =>
    //{
    //    pager.RowsPerPage = 3;
    //})
    )
</div>
<script>
    document.addEventListener('Edit', function (e) {
        $(document).ready(function () {
            $("#dialog").dialog({
                title: 'Enter Clock No',
                modal: true,
                show: 'slide',
                hide: 'slide'
            });
        });
    });
    $(document).ready(function () {
        $("#dialog").dialog({
            bgiframe: true, autoOpen: false, height: 100, modal: true
        });
    });
    function showModal(id) {
        $.get("/api/Rooms/" + id, function (data) {
            $("#dialog").html(data);
        });
        $('#dialog').dialog('open'); return false;
    }

    $(function () {
        $(".popupLink").click(function (e) {
            window.confirm("sometext");
        });
    });


</script>

@*<h2>Camere</h2>
    <p>Numar camere: @Model.Count()</p>
    @foreach (var r in Model)
    {
    <div class="col-md-4 offset-md-4">
        <ul>
            <li>Numarul camerei: @r.RoomNumber</li>
            <li>Are capacitatea de @r.PersonCapacity persoane</li>
            <li>@r.Description</li>
        </ul>
    </div>
    }
    <button class="btn btn-primary">Add Room</button>
    <div class="col-md-4 offset-md-4">
        <form method="post">
            <div asp-validation-summary="ModelOnly"></div>
            <div class="form-group">
                <label asp-for="PersonCapacity">Person Capacity:</label>
                <input type="number" asp-for="PersonCapacity" class="form-control" />
            </div>
            <div class="form-group">
                <label asp-for="RoomNumber">Room Number:</label>
                <input type="number" asp-for="RoomNumber" class="form-control" />
            </div>
            <div class="form-group">
                <label asp-for="Description">Description:</label>
                <textarea rows="5" asp-for="Description" class="form-control"></textarea>
            </div>
            <div class="form-group">
                <input type="submit" value="Add" class="btn btn-primary btn-sm" />
            </div>
        </form>
    </div>
    <div>
        <p>Rooms(Please select room)</p>
    </div>
    <button>Edit</button>
    <button>Delete</button>*@
